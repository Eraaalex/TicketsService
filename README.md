## Запуск проекта

### Для развертывания сервисов и базы данных:

В корневой директории:

```
docker-compose up --build
```

---

## Микросервис аутентификации:

Запускается на порту 8080.

### ___AuthController___: Обрабатывает регистрацию и вход пользователя.

Регистрация нового пользователя через эндпоинт /auth/register.

Вход пользователя через эндпоинт /auth/login.

Получение информации о пользователе через JWT токен с помощью эндпоинта /auth/info. 

### ___JwtService___: Генерирует JWT токены с данными пользователя.

Хранит в токене id, email и username.

Проверяет валидность токена, сравнивая username из токена с данными из базы данных и проверяя срок действия (isExpired).
### UserRepository (CrudRepository): Отвечает за хранение данных пользователей.

## Миграции:

#### Liquibase: Управляет изменениями в структуре базы данных.


## Микросервис продажи билетов:

#### ___OrderController___: Обрабатывает создание и получение заказов.

Создание заказа: через эндпоинт `/order/create-order`.

Получение заказа по ID: через эндпоинт `/order/{orderId}`. 

#### ___JwtService___: Валидирует JWT токены и извлекает из них username.

#### ___OrderRepository___ (CrudRepository): Отвечает за хранение данных заказов.

#### ___StationRepository___ (CrudRepository): Отвечает за хранение данных станций.

#### ___OrderProcessService___: Имитация обработки заказов.

Добавление заказа в очередь: метод addOrderToProcessing добавляет заказ в очередь для обработки.

Процессинг заказов: метод processOrders обрабатывает заказы из очереди пачками по 3 заказа.

Обработка заказа: метод processOrder имитирует обработку заказа с задержкой в 10 секунд, после чего обновляет статус заказа в базе данных на SUCCESSFUL.

----

__Реализована Postman коллекция в файле `Tickets collection.postman_collection.json`__


