## Запуск проекта

### для БД сервисов:

В корневой директории:

```
docker-compose up --build
```

Сами микросервисы запускаются посредством Run в IntelliJ Idea

---

## Микросервис аутентификации:

Запускается на порту 8080.

### `AuthController`: Обрабатывает регистрацию и вход пользователя.

Регистрация нового пользователя через эндпоинт /auth/register.

Вход пользователя через эндпоинт /auth/login.

Получение информации о пользователе через JWT токен с помощью эндпоинта /auth/info. 

### `JwtService`: Генерирует JWT токены с данными пользователя.

Хранит в токене id, email и username.

Проверяет валидность токена, сравнивая username из токена с данными из базы данных и проверяя срок действия (isExpired).
### `UserRepository` (CrudRepository): Отвечает за хранение данных пользователей.

### Миграции:

#### `Liquibase`: Управляет изменениями в структуре базы данных.


## Микросервис продажи билетов:

### `OrderController`: Обрабатывает создание и получение заказов.
Создание заказа: через эндпоинт `/order/create-order`.

Получение заказа по ID: через эндпоинт `/order/{orderId}`.

### `JwtService`: Валидирует JWT токены и извлекает из них username.

### `OrderRepository (CrudRepository)`: Отвечает за хранение данных заказов.

### `StationRepository (CrudRepository)`: Отвечает за хранение данных станций.

### `OrderProcessServiceImpl`: Имитация обработки заказов.

Добавление заказа в очередь: метод addOrderToProcessing добавляет заказ в очередь для обработки.

Процессинг заказов: метод processOrders обрабатывает заказы из очереди пачками по 3 заказа.

Обработка заказа: метод processOrder имитирует обработку заказа с задержкой в 10 секунд, после чего обновляет статус заказа в базе данных на SUCCESSFUL.

__Реализована Postman коллекция в файле `TIckets collection.postman_collection.json`__


